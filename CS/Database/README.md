# Database

1. 키
2. SQL JOIN



<br/>

## Key

데이터를 식별하고 원하는 값을 얻을 수 있다. 특정 데이터를 검색하거나 정렬할 수 있는 속성 값. 중복되지 않게 이상 현상(Anormaly : 삽입 이상, 삭제 이상, 수정 이상 등)을 방지한다.

- 유일성 : 하나의 키 값으로 하나의 튜플 식별된다.
- 최소성 : 유일성이 유지되는 최소의 속성으로 구성된다.

### 01. Key 종류

![db_key](https://user-images.githubusercontent.com/33693066/143180415-1f41a9ea-dad0-43dd-a819-03fcf4494987.PNG)

- **슈퍼키(Super Key)** : 유일성을 만족하며 한 개 이상의 속성들의 집합, 최소성을 만족하지 못하며 후보키와 기본키가 속한다.

- **후보키(Candidate Key)** : 유일성과 최소성을 만족하는 키, 기본키와 대체키의 집합으로 여기서 주 식별자로 선택된 값이 기본키이다.

- **기본키(Primary Key)** : 유일성과 최소성을 만족하며 후보키에서 대표로 지정된 키. Null 값이나 중복된 값을 가질 수 없다.

- **외래키(Foreign Key)** : 두 개 이상의 릴레이션에서 어떤 릴레이션의 기본키를 참조하는 경우 외래키라고 하며, 외래키로 지정되면 참조 릴레이션의 기본키에 없는 값을 사용할 수 없다. (⇒ 참조 무결성 제약을 만족해야한다.)

> <*>면접 질문목록
>
> 스키마, DBMS 종류, Nosql, 크롤링데이터, 트랜잭션 데드락 핸들링, ACID(원자성,...) 컨트롤, 정규화 부분

<br/>

### 02. 이상(Anormaly)

- 삽입 이상
  
    데이터를 삽입할 때 불필요한 데이터를 추가해야하는 현상
    
- 삭제 이상
  
    한 튜플을 삭제할 때 다른 값이 함께 삭제되는 현상
    
- 갱신 이상
  
    갱신이 필요한 튜플을 모두 변경하지 않아서 생기는 이상 현상
    
    <br/>

### *  용어 정리

| 파일 시스템 | DB 모델링 [단위] | 관계형 DB |
| --- | --- | --- |
| File | Entity | Table |
| Record | Tuple [cadinality] | Row |
| Field | Attribute [degree] | Column |
| Key | Identifier | Primary Key/Unique |

Domain : 속성 값에 들어갈 수 있는 값의 범위

<br/>

### 03. 무결성 제약(Integrity Constraint)

- 개체 무결성 제약
  
    기본키를 구성하는 속성 값에는 Null값이나 중복 값을 가지지 못한다.
    
- 참조 무결성
  
    릴레이션 R1에 저장된 튜플이 다른 릴레이션(R0)에 있는 튜플을 참조하려면 해당 릴레이션(R0)에 반드시 튜플이 존재해야한다. 외래키는 참조 릴레이션의 기본키로 존재하고 두 키(외래키, 참조된 기본키) 간에 도메인과 속성 갯수 또한 일치해야 한다.
    
- 도메인 무결성
  
    주어진 속성 값이 해당 속성에 정의된 도메인에 속해야한다.
    
    <br/><br/>

## SQL JOIN

두 개의 릴레이션을 공통 속성을 기준으로 묶어 새로운 릴레이션을 생성하는 연산

- 외부 조인(Outer Join)
  
    내부 조인을 확장한 개념으로 릴레이션에 있는 튜플에 조인할 상대 릴레이션 튜플이 대응되지 않으면 Null 튜플로 생성한다. 기준이 되는 릴레이션은 left / right / 전체로 지정할 수 있다.
    
    좌측을 지정한 경우 먼저 나오는 릴레이션 튜플을 모두 활용, 우측은 이후에 나온 릴레이션 튜플을 기준으로 새로운 릴레이션을 생성한다.
    
- 내부 조인(Inner Join)
  
    두 릴레이션의 공통된 값을 이용해 모두 존재하는 데이터만 추출해 생성하는 방법



<br/>

<br/>

---------------

##### References

https://kosaf04pyh.tistory.com/201
